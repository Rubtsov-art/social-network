(this["webpackJsonpfirst-react"]=this["webpackJsonpfirst-react"]||[]).push([[6],{232:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8);function a(e,t){if(null==e)return{};var n,a,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},234:function(e,t,n){"use strict";var r=n(32);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(34),i=n(33),s=n(35),u=n(0),c=n.n(u),l=n(19),p=n(15);n.d(t,"a",(function(){return f}));var g=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(i.a)(n).apply(this,arguments))}var u,p,g;return Object(s.a)(n,t),u=n,(p=[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}])&&a(u.prototype,p),g&&a(u,g),n}(c.a.Component);return Object(p.b)(g,{})(t)}},240:function(e,t,n){e.exports=n.p+"static/media/default-avatar.57cba6c6.png"},309:function(e,t,n){},310:function(e,t,n){e.exports={list:"User_list__24jNz"}},311:function(e,t,n){e.exports={user:"Person_user__oyhUs",avatar:"Person_avatar__Yc3Rm",info:"Person_info__1bSyT",friendButton:"Person_friendButton__2T3oO"}},312:function(e,t,n){e.exports={breadCramps:"Pagination_breadCramps__3Ikwc",pages:"Pagination_pages__2tCrO",currantPage:"Pagination_currantPage__2-s0g",page:"Pagination_page__2_zzt",next:"Pagination_next__2flcp",prev:"Pagination_prev__3FQ88"}},323:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(309),i=n.n(o),s=n(32),u=n(34),c=n(33),l=n(35),p=n(15),g=n(310),f=n.n(g),m=n(233),d=n(311),P=n.n(d),b=n(22),h=n(240),v=n.n(h),_=function(e){var t=e.user,n=e.isFollowingInProgress,r=e.createFriendship,o=e.deleteFriend;Object(m.a)(e,["user","isFollowingInProgress","createFriendship","deleteFriend"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:P.a.user},a.a.createElement(b.b,{to:"/profile/"+t.id},a.a.createElement("img",{alt:"avatar",className:P.a.avatar,src:null!=t.photos.small?t.photos.small:v.a})),t.friend?a.a.createElement("button",{className:P.a.friendButton,disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"To enemy"):a.a.createElement("button",{className:P.a.friendButton,disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"To friend"),a.a.createElement("p",{className:P.a.info},a.a.createElement("span",null,t.name),a.a.createElement("span",null,t.status))))},F=n(232),E=n(312),y=n.n(E),C=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.portionSize,i=void 0===o?10:o,s=e.onPageChanged,u=e.currantPage,c=Math.ceil(t/n),l=[],p=1;p<=c;p++)l.push(p);var g=Math.ceil(c/i),f=Object(r.useState)(1),m=Object(F.a)(f,2),d=m[0],P=m[1],b=(d-1)*i+1,h=d*i,v=l.filter((function(e){return e>=b&&e<=h})).map((function(e){return a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return s(e)},className:u===e?y.a.currantPage:y.a.page},e))}));return a.a.createElement("ul",{className:y.a.breadCramps},d>1&&a.a.createElement("button",{className:y.a.prev,onClick:function(){P(d-1)}},"prev"),a.a.createElement("ul",{className:y.a.pages},v),g>i&&a.a.createElement("button",{className:y.a.next,onClick:function(){P(d+1)}},"next"))},O=function(e){var t=e.usersList,n=e.isFollowingInProgress,r=e.createFriendship,o=e.deleteFriend,i=e.totalItemsCount,s=e.portionSize,u=e.pageSize,c=e.onPageChanged,l=e.currantPage;return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:f.a.list},t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(_,{user:e,isFollowingInProgress:n,createFriendship:r,deleteFriend:o}))}))),a.a.createElement(C,{totalItemsCount:i,portionSize:s,pageSize:u,onPageChanged:c,currantPage:l}))},j=n(36),S=n(83),I=function(e){return e.usersPage.usersData},z=function(e){return e.usersPage.currantPage},w=function(e){return e.usersPage.pageSize},N=function(e){return e.usersPage.totalItemsCount},k=function(e){return e.usersPage.isFetching},x=function(e){return e.usersPage.isFollowingInProgress},A=function(e){return e.usersPage.portionSize},T=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(e){n.props.getUsers(n.props.currantPage,n.props.pageSize)},n.onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize),n.props.changeCurrantPage(e)},n.render=function(){return a.a.createElement(a.a.Fragment,null,n.props.isFetching?a.a.createElement(j.a,null):null,a.a.createElement(O,{pageSize:n.props.pageSize,totalItemsCount:n.props.totalItemsCount,onPageChanged:n.onPageChanged,currantPage:n.props.currantPage,usersList:n.props.usersList,createFriendship:n.props.createFriendship,deleteFriend:n.props.deleteFriend,isFollowingInProgress:n.props.isFollowingInProgress,toggleAddFriendInProgress:n.props.toggleAddFriendInProgress,portionSize:n.props.portionSize}))},n}return Object(l.a)(t,e),t}(a.a.Component),U=Object(p.b)((function(e){return{usersList:I(e),currantPage:z(e),pageSize:w(e),totalItemsCount:N(e),isFetching:k(e),isFollowingInProgress:x(e),portionSize:A(e)}}),{createFriendship:S.b,deleteFriend:S.d,changeCurrantPage:S.a,toggleAddFriendInProgress:S.f,getUsers:S.e})(T),B=function(e){return a.a.createElement("section",{className:i.a.usersPage},a.a.createElement(U,null))},L=n(17),M=n(234);t.default=Object(L.d)(M.a)((function(e){return a.a.createElement(B,null)}))}}]);
//# sourceMappingURL=6.07e58dce.chunk.js.map