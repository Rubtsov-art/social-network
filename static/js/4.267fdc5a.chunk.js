(this["webpackJsonpfirst-react"]=this["webpackJsonpfirst-react"]||[]).push([[4],{229:function(e,t,a){e.exports={error:"FormControl_error__1HG8e",errorText:"FormControl_errorText__3HYoM",invalidFormData:"FormControl_invalidFormData__3mRTo"}},230:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"field is required"},r=function(e){return function(t){if(t.length>e)return"maximum ".concat(e," symbols")}}},231:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));var n=a(233),r=a(0),o=a.n(r),l=a(229),s=a.n(l),c=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),l=a.touched&&a.error;return o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({className:l?s.a.error:" "},t,r)),l&&o.a.createElement("span",{className:s.a.errorText},a.error))},i=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),l=a.touched&&a.error;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({className:l?s.a.error:" "},t,r)),l&&o.a.createElement("span",{className:s.a.errorText},a.error))}},232:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",(function(){return n}))},234:function(e,t,a){"use strict";var n=a(32);function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=a(34),l=a(33),s=a(35),c=a(0),i=a.n(c),u=a(19),m=a(15);a.d(t,"a",(function(){return p}));var f=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(l.a)(a).apply(this,arguments))}var c,m,f;return Object(s.a)(a,t),c=a,(m=[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}])&&r(c.prototype,m),f&&r(c,f),a}(i.a.Component);return Object(m.b)(f,{})(t)}},240:function(e,t,a){e.exports=a.p+"static/media/default-avatar.57cba6c6.png"},254:function(e,t,a){e.exports={main_content:"Profile_main_content__3f2WC"}},255:function(e,t,a){e.exports={post:"Posts_post__3gvZq",posts_list:"Posts_posts_list__1-bmI"}},256:function(e,t,a){e.exports={post:"Post_post__2r09U",deletePost:"Post_deletePost__2hQg2"}},257:function(e,t,a){e.exports={formInput:"PostField_formInput__3mol0",submit:"PostField_submit__P60Qd"}},298:function(e,t,a){e.exports={info:"ProfileInfo_info__1gD3z",editButton:"ProfileInfo_editButton__1-X1h"}},299:function(e,t,a){e.exports={profileInfo:"ProfileInfoContent_profileInfo__30ibY",contacts:"ProfileInfoContent_contacts__14rCM",buttonClose:"ProfileInfoContent_buttonClose__k05dW",buttonOpen:"ProfileInfoContent_buttonOpen__38EU7"}},300:function(e,t,a){e.exports={formInput:"ProfileInfoForms_formInput__3eR1c",submit:"ProfileInfoForms_submit__1RDhz"}},301:function(e,t,a){e.exports={avatar:"Avatar_avatar__2zptx",controlButtons:"Avatar_controlButtons__2sDlS",inputFile:"Avatar_inputFile__33qcO",close:"Avatar_close__2yMOP"}},302:function(e,t,a){e.exports={status:"ProfileStatus_status__WspCA",statusInput:"ProfileStatus_statusInput__1qF4i"}},320:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(34),o=a(33),l=a(35),s=a(0),c=a.n(s),i=a(15),u=a(254),m=a.n(u),f=a(62),p=a(22),b=a(255),d=a.n(b),E=a(256),_=a.n(E),v=function(e){return c.a.createElement("li",{className:_.a.post},e.message," ",c.a.createElement("button",{className:_.a.deletePost,onClick:function(){e.deletePost(e.postId)},"aria-label":"delete"},"x"))},h=a(112),O=a(113),g=a(230),P=a(231),j=a(257),I=a.n(j),y=Object(g.a)(300),N=Object(O.a)({form:"post"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement(h.a,{className:I.a.formInput,component:P.b,type:"text",placeholder:"Write post",name:"postField",validate:[g.b,y]}),c.a.createElement("button",{className:I.a.submit},"add post"))})),F=function(e){var t=Object(p.a)(e.postsData).reverse().map((function(t){return c.a.createElement(v,{postId:t.id,deletePost:e.deletePost,message:t.message,key:t.id})}));return c.a.createElement("section",{className:d.a.post},c.a.createElement(N,{onSubmit:function(t){e.addPost(t.postField)}}),c.a.createElement("ul",{className:d.a.posts_list},t))},k=Object(i.b)((function(e){return{postsData:e.profilePage.postsData,postFieldValue:e.profilePage.postFieldValue}}),(function(e){return{addPost:function(t){e(Object(f.a)(t))},deletePost:function(t){e(Object(f.c)(t))}}}))(F),C=a(232),S=a(298),x=a.n(S),A=a(299),D=a.n(A),U=function(e){return c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("p",null,e.contactTitle,": ",c.a.createElement("span",null,e.contactValue))))},w=function(e){var t=Object(s.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1];return c.a.createElement("ul",{className:D.a.profileInfo},c.a.createElement("li",null,c.a.createElement("p",null," Full name:",c.a.createElement("span",null,e.profile.fullName))),c.a.createElement("li",null,c.a.createElement("p",null,"Looking for a job: ",c.a.createElement("span",null,e.profile.lookingForAJob?"yes":"no"))),e.profile.lookingForAJob&&c.a.createElement("li",null,c.a.createElement("p",null,"My skills:",c.a.createElement("span",null,e.profile.lookingForAJobDescription))),c.a.createElement("li",null,c.a.createElement("p",null,"About me: ",c.a.createElement("span",null,e.profile.aboutMe))),c.a.createElement("li",null,c.a.createElement("p",{className:D.a.contacts},"Contacts:",n?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,Object.keys(e.profile.contacts).map((function(t){return c.a.createElement(U,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))),c.a.createElement("button",{onClick:function(){r(!1)},className:D.a.buttonClose,"aria-label":"close full Information"},"x")):c.a.createElement("button",{onClick:function(){r(!0)},className:D.a.buttonOpen,"aria-label":"open full Information"},"open"))))},M=a(300),T=a.n(M),B=a(229),J=a.n(B),V=Object(O.a)({form:"profileData"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:T.a.loginFormField},c.a.createElement("label",null," Full name:"),c.a.createElement(h.a,{className:T.a.formInput,component:P.a,validate:[g.b],type:"text",placeholder:"Full name",name:"fullName"}),c.a.createElement("label",null,"Looking for a job:"),c.a.createElement(h.a,{className:T.a.formInput,component:P.a,type:"checkbox",name:"lookingForAJob"}),c.a.createElement("label",null," My skills:"),c.a.createElement(h.a,{className:T.a.formInput,component:P.b,placeholder:"My skills",name:"lookingForAJobDescription"}),c.a.createElement("label",null," About me:"),c.a.createElement(h.a,{className:T.a.formInput,component:P.b,placeholder:"About me",name:"aboutMe"}),c.a.createElement("p",null,"Contacts: ",c.a.createElement("span",null,Object.keys(e.profile.contacts).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("span",null,e,":")," ",c.a.createElement(h.a,{className:T.a.formInput,component:P.a,placeholder:e,name:"contacts."+e}))})))),e.error&&c.a.createElement("div",{className:J.a.invalidFormData},e.error),c.a.createElement("button",{className:T.a.submit},"Submit"))})),q=function(e){var t=Object(s.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1];return c.a.createElement("div",{className:x.a.info},n?c.a.createElement(V,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfileData(t).then((function(){r(!1)}))}}):c.a.createElement(w,{profile:e.profile}),e.isOwner&&!n?c.a.createElement("button",{className:x.a.editButton,onClick:function(){r(!0)}},"edit information"):null)},W=a(301),z=a.n(W),R=a(36),H=a(240),L=a.n(H),Q=function(e){var t=Object(s.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1];if(!e.profile)return c.a.createElement(R.a,null);return c.a.createElement(c.a.Fragment,null,e.profile.photos.large?c.a.createElement("img",{className:z.a.avatar,onClick:function(){r(!0)},src:e.profile.photos.large,alt:"it's you"}):c.a.createElement("img",{className:z.a.avatar,src:L.a,alt:"it's you"}),e.isOwner&&n&&c.a.createElement("div",{className:z.a.controlButtons},c.a.createElement("input",{type:"file",id:"avatarFile",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},className:z.a.inputFile}),c.a.createElement("label",{for:"avatarFile"},"choose a file"),c.a.createElement("button",{onClick:function(){r(!1)},"area-label":"close avatar edit",className:z.a.close},"x")))},Y=a(302),G=a.n(Y),X=function(e){var t=Object(s.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),l=Object(C.a)(o,2),i=l[0],u=l[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:G.a.status},n?c.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},className:G.a.statusInput,autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(i)},value:i}):c.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"---"))},Z=function(e){return c.a.createElement("section",{className:m.a.main_content},c.a.createElement(Q,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile}),c.a.createElement(X,{status:e.status,updateUserStatus:e.updateUserStatus}),e.profile?c.a.createElement(q,{isOwner:e.isOwner,profile:e.profile,saveProfileData:e.saveProfileData}):c.a.createElement(R.a,null),c.a.createElement(k,null))},K=a(19),$=a(17),ee=a(234),te=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).refreshProfile=function(){var e=a.props.match.params.userId;e||(e=a.props.loginUserId),a.props.getUserProfile(e),a.props.getUserStatus(e)},a.componentDidMount=function(e){a.refreshProfile()},a.componentDidUpdate=function(e,t){e.match.params.userId!==a.props.match.params.userId&&a.refreshProfile()},a.render=function(){return c.a.createElement(Z,Object.assign({},a.props,{saveProfileData:a.props.saveProfileData,savePhoto:a.props.savePhoto,isOwner:!a.props.match.params.userId,profile:a.props.profile,status:a.props.status,updateUserStatus:a.props.updateUserStatus}))},a}return Object(l.a)(t,e),t}(c.a.Component);t.default=Object($.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loginUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:f.d,getUserStatus:f.e,updateUserStatus:f.h,savePhoto:f.f,saveProfileData:f.g}),K.g,ee.a)(te)}}]);
//# sourceMappingURL=4.267fdc5a.chunk.js.map